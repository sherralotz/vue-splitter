(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],m=0,u=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue-splitter/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0222":function(t,e,a){},"034f":function(t,e,a){"use strict";a("85ec")},"3b36":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"db",(function(){return ma}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-app-bar",{staticClass:"indigo darken-2",attrs:{app:""}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v("Splitter")]),a("v-spacer"),t.user?t._e():a("v-btn",{attrs:{small:"",outlined:"",color:"white"},on:{click:t.signInUser}},[t._v(" Sign In ")]),t.user?a("v-menu",{attrs:{"nudge-bottom":40},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"","x-large":""}},"v-btn",n,!1),i),[a("v-avatar",{attrs:{color:"brown",size:"35"}},[a("img",{attrs:{src:""+t.user.photoURL}})])],1)]}}],null,!1,2422258668)},[a("v-list",[a("v-list-item",{on:{click:t.logoutUser}},[a("v-list-item-title",[t._v("Logout")])],1)],1)],1):t._e()],1),a("v-main",[t.showPage?a("router-view",{key:t.componentKey}):t._e(),this.user?t._e():a("v-alert",{staticClass:"mt-4",attrs:{color:"white"}},[t._v("Please sign in")])],1)],1)},s=[],o=a("260b"),r=(a("ea7b"),{data:function(){return{user:"",componentKey:0,showPage:!1}},mounted:function(){this.user=o["a"].auth().currentUser;var t=""===location.hash.substr(2,location.hash.length);this.showPage=!t||t&&null!==this.user},methods:{signInUser:function(){var t=this,e=new o["a"].auth.GoogleAuthProvider;o["a"].auth().signInWithPopup(e).then((function(){t.user=o["a"].auth().currentUser,t.showPage=!0,t.forceRerender()})).catch((function(t){alert("Oops. "+t.message)}))},forceRerender:function(){this.componentKey+=1},logoutUser:function(){o["a"].auth().signOut(),this.user=null,this.forceRerender()}}}),l=r,c=(a("034f"),a("2877")),d=a("6544"),m=a.n(d),u=a("0798"),v=a("7496"),h=a("40dc"),f=a("8212"),p=a("8336"),b=a("8860"),x=a("da13"),I=a("5d23"),g=a("f6c4"),y=a("e449"),w=a("2fa4"),C=a("2a7f"),k=Object(c["a"])(l,n,s,!1,null,null,null),D=k.exports;m()(k,{VAlert:u["a"],VApp:v["a"],VAppBar:h["a"],VAvatar:f["a"],VBtn:p["a"],VList:b["a"],VListItem:x["a"],VListItemTitle:I["c"],VMain:g["a"],VMenu:y["a"],VSpacer:w["a"],VToolbarTitle:C["a"]});var E=a("f309");i["a"].use(E["a"]);var M=new E["a"]({breakpoint:{mobileBreakpoint:"xl"}}),P=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"splitter-container overflow-hidden px-1"},[a("div",{staticClass:"text-left"},[t.entryData?a("div",{staticClass:"mt-3"},[a("h3",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"d-flex mr-auto "},[t.loggedInUser?a("router-link",{attrs:{to:"/"}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"arrow-left"}})],1):t._e(),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.entryTitleEditMode,expression:"entryTitleEditMode"}]},[a("v-text-field",{ref:"entryTitle",attrs:{label:"Title"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEntryTitle(e)}},model:{value:t.newEntryTitle,callback:function(e){t.newEntryTitle=e},expression:"newEntryTitle"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.entryTitleEditMode,expression:"!entryTitleEditMode"}]},[t._v(t._s(t.entryData.title))])])],1),a("div",{staticClass:"mr-3"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{disabled:!t.ownerHasLoggedIn,outlined:"",color:"indigo","x-small":""}},"v-btn",n,!1),i),[a("font-awesome-icon",{attrs:{icon:"cog"}})],1)]}}],null,!1,2287758058)},[a("v-list",[a("v-list-item",{attrs:{dense:!0},on:{click:function(e){return t.onClickEditEntryTitle()}}},[a("v-list-item-title",{staticClass:"text-left indigo--text"},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"pencil-alt"}}),t._v(" Edit")],1)],1),a("v-list-item",{attrs:{dense:!0},on:{click:function(e){return t.onClickDeleteEntry()}}},[a("v-list-item-title",{staticClass:"text-left red--text"},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"trash-alt"}}),t._v(" Delete")],1)],1)],1)],1)],1)])])]):t._e()]),a("v-tabs",{attrs:{color:"indigo"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),t._l(t.tabItems,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])}))],2),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:0},[a("div",[t.entryData?a("v-container",{staticClass:"d-flex mb-n3 mt-n2"},[a("div",{staticClass:"mr-auto"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.entryData.items.length&&t.getSumofItems(t.entryData.items,"itemTotal"),expression:"entryData.items.length &&\n                    getSumofItems(entryData.items, 'itemTotal')\n                "}],staticClass:"mr-2 indigo--text"},[a("b",[t._v("Total: ₱"+t._s(t.getSumofItems(t.entryData.items,"itemTotal")))])])]),a("div",[a("v-btn",{staticClass:"pic-btn mr-9 mt-1",attrs:{outlined:"",color:"indigo","x-small":""},on:{click:function(e){return t.setupPrintingArea("items")}}},[a("font-awesome-icon",{attrs:{icon:"camera"}})],1),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"m-t-n-1",attrs:{disabled:!t.ownerHasLoggedIn,outlined:"",color:"indigo","x-small":""}},"v-btn",n,!1),i),[a("font-awesome-icon",{attrs:{icon:"cog"}})],1)]}}],null,!1,462809025)},[a("v-list",[a("v-list-item",{attrs:{dense:!0},on:{click:function(e){return t.onClickImportItems()}}},[a("v-list-item-title",{staticClass:"text-left indigo--text"},[t._v(" Import items")])],1),a("v-list-item",{attrs:{dense:!0},on:{click:function(e){return t.onClickListAddItemsToGroup()}}},[a("v-list-item-title",{staticClass:"text-left indigo--text"},[t._v(" Save items to group")])],1)],1)],1)],1)]):t._e(),a("div",{staticClass:"mx-2 mb-2"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showEditInputItem,expression:"!showEditInputItem"}],staticClass:"mt-2",attrs:{outlined:"",block:"",color:"indigo",disabled:!t.ownerHasLoggedIn},on:{click:function(e){return t.onToggleEditInputItem(t.showEditInputItem)}}},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"plus",size:"sm"}}),t._v(" ADD ITEM ")],1)],1),a("InputItemData",{directives:[{name:"show",rawName:"v-show",value:t.showEditInputItem,expression:"showEditInputItem"}],attrs:{inputItemMode:t.showEditInputItem,editItemData:t.editItemData},on:{cancelAddItem:t.onToggleEditInputItem,saveEditItem:t.saveItemValues}}),a("v-row",{staticClass:"mb-n4"},[a("v-col",{staticClass:"col-3 flex-column d-flex"},[a("small",{staticClass:"text-left ml-2"},[t._v("Name")])]),a("v-col",{staticClass:"col-2 flex-column d-flex"},[a("small",{staticClass:"ml-n1 text-left"},[t._v("Amount")])]),a("v-col",{staticClass:"col-1 flex-column d-flex"}),a("v-col",{staticClass:"col-2 flex-column d-flex"},[a("small",{staticClass:"ml-n3 text-left"},[t._v("Qty")])]),a("v-col",{staticClass:"col-3 flex-column d-flex"},[a("small",{staticClass:"mr-4 text-right"},[t._v("Total")])])],1),t.entryData?a("ItemList",{ref:"itemlistref",attrs:{listdata:t.entryData.items,drawerValue:t.personDrawer,ownerHasLoggedIn:t.ownerHasLoggedIn},on:{activatePersonBtmDrawer:t.toggleItemBtmDrawer,activateDeleteItem:t.activateDeleteItemDialog,activateEditItem:t.activateEditItemDialog,setActiveItem:t.setActiveItemDrawer}}):t._e()],1)]),a("v-tab-item",{key:1},[a("div",[t.entryData?a("v-container",{staticClass:"d-flex mb-n3 mt-n2"},[a("div",{staticClass:"mr-auto"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.entryData.members.length&&t.getSumofItems(t.entryData.members,"totalPayable"),expression:"entryData.members.length &&\n                    getSumofItems(entryData.members, 'totalPayable')\n                "}],staticClass:"mr-2 indigo--text"},[a("b",[t._v("Total: ₱"+t._s(t.getSumofItems(t.entryData.members,"totalPayable")))])])]),a("div",[a("v-btn",{staticClass:"pic-btn mr-9 mt-1",attrs:{outlined:"",color:"indigo","x-small":""},on:{click:function(e){return t.setupPrintingArea("members")}}},[a("font-awesome-icon",{attrs:{icon:"camera"}})],1),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"m-t-n-1",attrs:{disabled:!t.ownerHasLoggedIn,outlined:"",color:"indigo","x-small":""}},"v-btn",n,!1),i),[a("font-awesome-icon",{attrs:{icon:"cog"}})],1)]}}],null,!1,462809025)},[a("v-list",[a("v-list-item",{attrs:{dense:!0},on:{click:function(e){return t.onClickImportMember()}}},[a("v-list-item-title",{staticClass:"text-left indigo--text"},[t._v(" Import members")])],1),a("v-list-item",{attrs:{dense:!0},on:{click:function(e){return t.onClickListAddMembersToGroup()}}},[a("v-list-item-title",{staticClass:"text-left indigo--text"},[t._v(" Save members to group")])],1)],1)],1)],1)]):t._e(),a("div",{staticClass:"mx-2"},[t.showEditInputPerson?t._e():a("v-btn",{staticClass:"mt-2",attrs:{outlined:"",block:"",color:"indigo",disabled:!t.ownerHasLoggedIn},on:{click:function(e){return t.onToggleEditInputPerson(t.showEditInputPerson)}}},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"plus",size:"sm"}}),t._v(" ADD MEMBER ")],1)],1),a("InputPersonData",{directives:[{name:"show",rawName:"v-show",value:t.showEditInputPerson,expression:"showEditInputPerson"}],attrs:{editPersonData:t.editPersonData,inputPersonMode:t.showEditInputPerson},on:{cancelAddPerson:t.onToggleEditInputPerson,saveEditPerson:t.saveUserValues}}),a("v-row",{staticClass:"mt-0"},[a("v-col",{staticClass:"col-8 flex-column d-flex"},[a("small",{staticClass:"text-left ml-2"},[t._v("Name")])]),a("v-col",{staticClass:"col-3 flex-column d-flex"},[a("small",{staticClass:"mr-6 text-right"},[t._v("Total")])])],1),t.entryData?a("MemberList",{ref:"memberlistref",class:{printingarea:t.isPrintMode},attrs:{listdata:t.entryData.members,ownerHasLoggedIn:t.ownerHasLoggedIn,drawerValue:t.itemDrawer},on:{activateItemBtmDrawer:t.togglePersonBtmDrawer,activateDeletePerson:t.activateDeletePersonDialog,activatePayment:t.activateBillPayment,activateEditPerson:t.activateEditPersonDialog,setActivePerson:t.setActivePersonDrawer}}):t._e()],1)])],1),a("div",[a("v-navigation-drawer",{attrs:{absolute:"",bottom:""},model:{value:t.personDrawer,callback:function(e){t.personDrawer=e},expression:"personDrawer"}},[t.itemParentMemberList?a("MemberListBottomDrawer",{attrs:{listData:t.itemParentMemberList,activeParentEntity:t.activeParentEntity},on:{onChangePersonDrawerCheckbox:t.addItemChildtoEntity}}):t._e()],1),a("v-navigation-drawer",{attrs:{absolute:"",bottom:""},model:{value:t.itemDrawer,callback:function(e){t.itemDrawer=e},expression:"itemDrawer"}},[t.memberParentItemList?a("ItemListBottomDrawer",{attrs:{listData:t.memberParentItemList,activeParentEntity:t.activeParentEntity},on:{onChangeItemDrawerCheckbox:t.addItemChildtoEntity}}):t._e()],1)],1),a("ConfirmDeleteItem",{ref:"confirm"}),a("ConfirmPayment",{ref:"payment"}),a("ItemsGroupDialog",{attrs:{importDialogData:t.itemDialogData,showImportDialog:t.itemDialog},on:{activateDialog:t.activateEntityDialog,importItems:t.importItemsToList}}),a("MembersGroupDialog",{attrs:{importDialogData:t.memberDialogData,showImportDialog:t.memberDialog},on:{activateDialog:t.activateEntityDialog,importMembers:t.importMembersToList}}),a("SaveMembersToGroup",{attrs:{membersList:t.entryData&&t.entryData.members,showSaveMembersModal:t.saveMembersModal},on:{showAddMembersToGroup:t.showAddMembersToGroupModal,submitMembersToGroup:t.submitSelectedMembersToGroup}}),a("SaveItemsToGroup",{attrs:{itemList:t.entryData&&t.entryData.items,showSaveItemsModal:t.saveItemsModal},on:{showAddItemsToGroup:t.showAddItemsToGroupModal,submitItemsToGroup:t.submitSelectedItemsToGroup}})],1)},T=[],V=a("b85c"),A=a("2909"),N=a("1da1"),L=(a("7db0"),a("b0c0"),a("b680"),a("159b"),a("99af"),a("d81d"),a("c740"),a("a434"),a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("4de4"),a("96cf"),a("c0e9")),S=a.n(L),O={data:function(){},methods:{getData:function(t){return Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ma.collection(t.collection).doc(t.docId).get().then((function(e){t.callback&&t.callback({data:e.data()})})).catch((function(e){console.error(e),t.callback&&t.callback({error:e})}));case 2:case"end":return e.stop()}}),e)})))()},getSubCollectionData:function(t){return Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ma.collection(t.collection).doc(t.docId).collection(t.subcollection).get().then((function(e){var a=[];e.forEach((function(t){var e=t.data();e.id=t.id,a.push(e)})),t.callback&&t.callback({data:a})})).catch((function(e){console.error(e),t.callback&&t.callback({error:e})}));case 2:case"end":return e.stop()}}),e)})))()},updateData:function(t){var e=ma.collection(t.collection).doc(t.docId);return e.update(t.requestData).then((function(){t.callback&&t.callback()})).catch((function(t){console.error("Error updating document: ",t)}))},updateSubCollectionData:function(t){ma.collection(t.collection).doc(t.docId).collection(t.subcollection).doc(t.subcollectionDocId).update(t.requestData).then((function(){t.callback&&t.callback()})).catch((function(t){console.error("Error updating document: ",t)}))},deleteCollectionData:function(t){ma.collection(t.collection).doc(t.docId).delete().then((function(){t.callback&&t.callback()})).catch((function(t){console.error("Error updating document: ",t)}))},deleteSubCollectionData:function(t){ma.collection(t.collection).doc(t.docId).collection(t.subcollection).doc(t.subcollectionDocId).delete().then((function(){t.callback&&t.callback()})).catch((function(t){console.error("Error updating document: ",t)}))},getUniqueID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}))},formatDate:function(t){if(!t)return"";t=new Date(t.toDate());var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=t.getDate(),i=e[t.getMonth()],n=t.getFullYear();return(a<=9?"0"+a:a)+" "+i+" "+n}}},$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("v-container",{staticClass:"pa-0 mb-n6 mt-n3",attrs:{flat:""}},[a("v-layout",{staticClass:"pa-1"},[a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"pa-1"},[a("v-text-field",{ref:"itemName",attrs:{label:"Name"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.storeItem(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onClickCancelAddItem(e)}]},model:{value:t.newItemName,callback:function(e){t.newItemName=e},expression:"newItemName"}})],1)]),a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"pa-1 right-input"},[a("v-text-field",{ref:"itemAmount",attrs:{type:"number",label:"Amount",prefix:"₱"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.storeItem(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onClickCancelAddItem(e)}]},model:{value:t.newItemAmount,callback:function(e){t.newItemAmount=e},expression:"newItemAmount"}})],1)]),a("v-flex",{staticClass:"actions-col",attrs:{xs1:""}},[a("div",{staticClass:"pa-1 text-right mt-5 mr-1 pos-abs r-0"},[a("v-btn",{staticClass:"xxs-btn",attrs:{outlined:"",fab:"",color:"deep-orange darken-4"},on:{click:function(e){return e.stopPropagation(),t.onClickCancelAddItem(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1)],1)])],1)],1)],1)},Q=[],j={data:function(){return{editId:0,newItemName:"",newItemAmount:""}},props:{inputItemMode:{type:Boolean},editItemData:{type:Object}},watch:{inputItemMode:function(){var t=this;this.$nextTick((function(){t.inputItemMode&&t.$refs.itemName.focus(),t.editItemData&&(t.newItemAmount=t.editItemData.itemAmount,t.newItemName=t.editItemData.name,t.editId=t.editItemData.id)}))}},methods:{storeItem:function(){if(this.newItemName&&this.newItemAmount){var t={newItemName:this.newItemName,newItemAmount:this.newItemAmount};this.editId&&(t.id=this.editId),this.$emit("saveEditItem",t),this.resetValues()}else this.newItemAmount||this.$refs.itemAmount.focus()},resetValues:function(){this.newItemName="",this.newItemAmount="",this.editId=0,this.$refs.itemName.focus()},onClickCancelAddItem:function(){this.$emit("cancelAddItem",this.inputItemMode)}}},G=j,F=a("a523"),B=a("0e8f"),U=a("a722"),R=a("8654"),q=Object(c["a"])(G,$,Q,!1,null,null,null),H=q.exports;m()(q,{VBtn:p["a"],VContainer:F["a"],VFlex:B["a"],VLayout:U["a"],VTextField:R["a"]});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto mt-2 custom-scroll overflow-y-auto listdata",attrs:{flat:""}},[a("div",{ref:"printcontent",staticClass:"overflow-x-hidden overflow-y-hidden "},t._l(t.listdata,(function(e){return a("v-row",{key:e.id,attrs:{"no-gutters":""}},[a("v-col",{staticClass:"col-12"},[a("v-divider"),a("v-expansion-panels",{attrs:{accordion:"",flat:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"px-2 py-0 mb-n2",nativeOn:{click:function(e){return t.expansionPanel()}}},[a("v-col",{staticClass:"col-3 flex-column d-flex"},[a("div",{staticClass:"ml-n3"},[a("b",[t._v(t._s(e.name)+" ")])])]),a("v-col",{staticClass:"col-2 flex-column d-flex"},[a("small",{staticClass:"ml-n3"},[t._v("₱"+t._s(e.itemAmount))])]),a("v-col",{staticClass:"col-1 flex-column d-flex"},[a("small",{directives:[{name:"show",rawName:"v-show",value:e.itemTotalQty,expression:"item.itemTotalQty"}],staticClass:"ml-n3"},[t._v("*")])]),a("v-col",{staticClass:"col-2 flex-column d-flex"},[a("small",{directives:[{name:"show",rawName:"v-show",value:e.itemTotalQty,expression:"item.itemTotalQty"}],staticClass:"ml-n3"},[t._v(t._s(e.itemTotalQty))])]),a("v-col",{staticClass:"col-amount col-3 flex-column d-flex text-right"},[a("b",{directives:[{name:"show",rawName:"v-show",value:e.memberList.length,expression:"item.memberList.length"}],staticClass:"text-right indigo--text"},[t._v("₱"+t._s(e.itemTotal))])])],1),a("v-card-subtitle",{staticClass:"row-item pl-2 py-0 mt-1 mb-2"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"card-sub d-flex justify-start  mr-auto"},[a("v-btn",{staticClass:"xxs-btn dashed ",attrs:{outlined:"",fab:"",color:"indigo","data-html2canvas-ignore":"true",disabled:!t.ownerHasLoggedIn},on:{click:function(a){return a.stopPropagation(),t.onClickAddPersonToItem(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"plus"}})],1),a("div",{staticClass:"d-flex justify-start"},[t._l(e.memberList.slice(0,3),(function(e){return a("div",{key:e.id},[a("v-avatar",{staticClass:"ml-1 d-flex",attrs:{color:"blue ",size:"22"}},[a("div",{staticClass:"white--text xxs-fs",attrs:{title:""+t.displayName(e,{name:!0})}},[t._v(" "+t._s(t.displayName(e,{initials:!0})))])])],1)})),e.memberList.length>3?a("div",[a("v-avatar",{staticClass:"ml-1 d-flex",attrs:{color:"blue  lighten-2",size:"22"}},[a("div",{staticClass:"white--text xxs-fs"},[t._v(" +"+t._s(e.memberList.length-3))])])],1):t._e()],2)],1),a("div",{staticClass:"card-sub "},[a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.isItemShared,expression:"item.isItemShared"}],staticClass:"mr-6 green darken-1V",attrs:{label:"","x-small":"","text-color":"white"}},[t._v("SHARED")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{disabled:!t.ownerHasLoggedIn,"data-html2canvas-ignore":"true",outlined:"",color:"indigo","x-small":""}},"v-btn",n,!1),i),[a("font-awesome-icon",{attrs:{icon:"cog"}})],1)]}}],null,!0)},[a("v-list",[a("v-list-item",{attrs:{dense:!0},on:{click:function(a){return t.onClickEditItem(e)}}},[a("v-list-item-title",{staticClass:"text-left indigo--text"},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"pencil-alt"}}),t._v(" Edit")],1)],1),a("v-list-item",{attrs:{dense:!0},on:{click:function(a){return t.onClickDeleteItem(e)}}},[a("v-list-item-title",{staticClass:"text-left red--text"},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"trash-alt"}}),t._v(" Remove")],1)],1)],1)],1)],1)])]),a("v-expansion-panel-content",{staticClass:"childrenlist",attrs:{color:"grey lighten-4"}},[t._l(e.memberList,(function(i){return a("v-list-item",{key:i.id,staticClass:"ml-n8"},[a("v-list-item-content",[a("div",{staticClass:"d-flex item-children"},[a("div",{staticClass:"text-left "},[a("small",{domProps:{textContent:t._s(i.name)}})]),a("div",{staticClass:"text-left"},[t._v("₱"),a("small",{domProps:{textContent:t._s(i.itemAmount)}})]),a("div",{staticClass:"text-left"},[a("small",{directives:[{name:"show",rawName:"v-show",value:e.isItemShared,expression:"item.isItemShared"}]},[t._v("/")]),a("small",{directives:[{name:"show",rawName:"v-show",value:!e.isItemShared,expression:"!item.isItemShared"}]},[t._v("*")])]),a("div",{staticClass:"text-left "},[a("small",{domProps:{textContent:t._s(i.itemQty)}})]),a("div",{},[a("b",{staticClass:"text-right"},[t._v(" ₱"),a("span",{domProps:{textContent:t._s(i.itemTotal)}})])])])])],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.memberList.length,expression:"!item.memberList.length"}],staticClass:"mt-3"},[a("small",[t._v("No members added")])])],2)],1)],1)],1)],1)})),1)])},J=[],K={name:"ItemList",data:function(){return{checkbox:[]}},props:{listdata:{type:Array},drawerValue:{type:Boolean},ownerHasLoggedIn:{type:Boolean}},methods:{displayName:function(t,e){var a=t.name;return e.initials?a.charAt(0)+a.charAt(1).toUpperCase():e.name?a:void 0},expansionPanel:function(){},check:function(t){t.preventDefault(),t.stopImmediatePropagation()},onClickAddPersonToItem:function(t){this.$emit("setActiveItem",t),this.$emit("activatePersonBtmDrawer",!this.drawerValue)},onClickEditItem:function(t){this.$emit("activateEditItem",t)},onClickDeleteItem:function(t){this.$emit("activateDeleteItem",t)},getSumofItems:function(t,e){var a,i=0,n=Object(V["a"])(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;i=(parseFloat(i)+parseFloat(s[e])).toFixed(2)}}catch(o){n.e(o)}finally{n.f()}return i},calculateQtyTotal:function(t,e){return parseFloat(parseFloat(t)*parseInt(e)).toFixed(2)}}},W=K,Y=a("b0af"),X=a("99d9"),Z=a("cc20"),tt=a("62ad"),et=a("ce7e"),at=a("cd55"),it=a("49e2"),nt=a("c865"),st=a("0393"),ot=a("0fd9"),rt=Object(c["a"])(W,z,J,!1,null,null,null),lt=rt.exports;m()(rt,{VAvatar:f["a"],VBtn:p["a"],VCard:Y["a"],VCardSubtitle:X["b"],VChip:Z["a"],VCol:tt["a"],VDivider:et["a"],VExpansionPanel:at["a"],VExpansionPanelContent:it["a"],VExpansionPanelHeader:nt["a"],VExpansionPanels:st["a"],VList:b["a"],VListItem:x["a"],VListItemContent:I["a"],VListItemTitle:I["c"],VMenu:y["a"],VRow:ot["a"]});var ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("v-container",{staticClass:"pa-0 mb-n6 mt-n3",attrs:{flat:""}},[a("v-layout",{staticClass:"pa-1"},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"pa-1"},[a("v-text-field",{ref:"personName",attrs:{label:"Name"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.storePerson(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onClickCancelAddPerson(e)}]},model:{value:t.newPersonName,callback:function(e){t.newPersonName=e},expression:"newPersonName"}})],1)]),a("v-flex",{staticClass:"actions-col",attrs:{xs1:""}},[a("div",{staticClass:"pa-1 text-right mt-5 mr-1 pos-abs r-0"},[a("v-btn",{staticClass:"xxs-btn",attrs:{outlined:"",fab:"",color:"deep-orange darken-4"},on:{click:function(e){return e.stopPropagation(),t.onClickCancelAddPerson(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1)],1)])],1)],1)],1)},dt=[],mt={data:function(){return{editId:0,newPersonName:""}},props:{inputPersonMode:{type:Boolean},editPersonData:{type:Object}},watch:{inputPersonMode:function(){var t=this;this.$nextTick((function(){t.inputPersonMode&&t.$refs.personName.focus(),t.editPersonData&&(t.newPersonName=t.editPersonData.name,t.editId=t.editPersonData.id)}))}},methods:{storePerson:function(){if(this.newPersonName){var t={newPersonName:this.newPersonName};this.editId&&(t.id=this.editId),this.$emit("saveEditPerson",t),this.resetValues()}},resetValues:function(){this.newPersonName="",this.editId=0,this.$refs.personName.focus()},onClickCancelAddPerson:function(){this.$emit("cancelAddPerson",this.inputPersonMode)}}},ut=mt,vt=Object(c["a"])(ut,ct,dt,!1,null,null,null),ht=vt.exports;m()(vt,{VBtn:p["a"],VContainer:F["a"],VFlex:B["a"],VLayout:U["a"],VTextField:R["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto mt-2 custom-scroll overflow-y-auto listdata",attrs:{flat:""}},[a("div",{ref:"printcontent",staticClass:"overflow-x-hidden overflow-y-hidden "},t._l(t.listdata,(function(e){return a("v-row",{key:e.id,attrs:{"no-gutters":""}},[a("v-col",{staticClass:"col-12"},[a("v-divider"),a("v-expansion-panels",{attrs:{flat:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",{ref:"expansionpanelitem",refInFor:!0,staticClass:"px-2 py-0 mb-n2"},[a("v-col",{staticClass:"col col-8 flex-column d-flex"},[a("div",{staticClass:"ml-n3"},[a("b",[t._v(t._s(e.name)+" ")])])]),a("v-col",{staticClass:"col col-3 flex-column d-flex"},[e.totalPayable?a("b",{staticClass:"text-right indigo--text"},[t._v("₱"+t._s(e.totalPayable))]):t._e()])],1),a("v-card-subtitle",{staticClass:"row-item pl-2 py-0 mt-1 mb-2 position-absolute"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"card-sub mr-auto"},[a("v-btn",{staticClass:"xxs-btn dashed",attrs:{disabled:!t.ownerHasLoggedIn,"data-html2canvas-ignore":"true",outlined:"",fab:"",color:"indigo"},on:{click:function(a){return a.stopPropagation(),t.onClickAddItemToPerson(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"plus"}})],1)],1),a("div",{staticClass:"card-sub "},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{"data-html2canvas-ignore":"true",disabled:!t.ownerHasLoggedIn,outlined:"",color:"indigo","x-small":""}},"v-btn",n,!1),i),[a("font-awesome-icon",{attrs:{icon:"cog"}})],1)]}}],null,!0)},[a("v-list",[a("v-list-item",{attrs:{dense:!0},on:{click:function(a){return t.onClickEditPerson(e)}}},[a("v-list-item-title",{staticClass:"text-left indigo--text"},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"pencil-alt"}}),t._v(" Edit")],1)],1),a("v-list-item",{attrs:{dense:!0},on:{click:function(a){return t.onClickDeletePerson(e)}}},[a("v-list-item-title",{staticClass:"text-left red--text"},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"trash-alt"}}),t._v(" Remove")],1)],1)],1)],1)],1)])]),a("v-expansion-panel-content",{staticClass:"childrenlist",attrs:{color:"grey lighten-4"}},[t._l(e.itemList,(function(e){return a("v-list-item",{key:e.id,staticClass:"ml-n8"},[a("v-list-item-content",[a("div",{staticClass:"d-flex item-children"},[a("div",{staticClass:"text-left"},[a("small",{staticClass:"text-left",domProps:{textContent:t._s(e.name)}})]),a("div",{staticClass:"text-left"},[t._v(" ₱"),a("small",{domProps:{textContent:t._s(e.itemAmount)}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isItemShared,expression:"!child.isItemShared"}],staticClass:"text-left"},[t._v("*")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isItemShared,expression:"child.isItemShared"}],staticClass:"text-left"},[t._v("/")]),a("div",{staticClass:"text-left"},[a("small",{domProps:{textContent:t._s(e.itemQty)}})]),a("div",{},[a("b",{staticClass:"text-right "},[t._v("₱"),a("span",{domProps:{textContent:t._s(e.itemTotal)}})])])])])],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.itemList.length,expression:"!person.itemList.length"}],staticClass:"mt-3"},[a("small",[t._v("No items added")])])],2)],1)],1)],1)],1)})),1)])},pt=[],bt={name:"MemberList",data:function(){return{checkbox:[]}},props:{listdata:{type:Array},drawerValue:{type:Boolean},ownerHasLoggedIn:{type:Boolean}},methods:{calculateTotal:function(t){var e,a=0,i=Object(V["a"])(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;a=(parseFloat(a)+parseFloat(n.amount)*n.itemQty).toFixed(2)}}catch(s){i.e(s)}finally{i.f()}return a},onClickPay:function(t){this.$emit("activatePayment",t)},onClickAddItemToPerson:function(t){this.$emit("activateItemBtmDrawer",!this.drawerValue),this.$emit("setActivePerson",t)},onClickEditPerson:function(t){this.$emit("activateEditPerson",t)},onClickDeletePerson:function(t){this.$emit("activateDeletePerson",t)},getSumofItems:function(t,e){var a,i=0,n=Object(V["a"])(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;i=(parseFloat(i)+parseFloat(s[e])).toFixed(2)}}catch(o){n.e(o)}finally{n.f()}return i}}},xt=bt,It=Object(c["a"])(xt,ft,pt,!1,null,null,null),gt=It.exports;m()(It,{VBtn:p["a"],VCard:Y["a"],VCardSubtitle:X["b"],VCol:tt["a"],VDivider:et["a"],VExpansionPanel:at["a"],VExpansionPanelContent:it["a"],VExpansionPanelHeader:nt["a"],VExpansionPanels:st["a"],VList:b["a"],VListItem:x["a"],VListItemContent:I["a"],VListItemTitle:I["c"],VMenu:y["a"],VRow:ot["a"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex mt-2 mb-n2"},[a("div",{staticClass:"d-flex mr-auto pl-4"},[t._v(" "+t._s(this.activeParentEntity&&this.activeParentEntity.name)+" (₱"+t._s(this.activeParentEntity&&this.activeParentEntity.itemAmount)+") ")]),a("div",{staticClass:"d-flex drawer-actions"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isItemShared,expression:"isItemShared"}],staticClass:"xxs-btn",attrs:{disabled:0===t.sharedQty,fab:"",color:"indigo",depressed:""},on:{click:function(e){return e.stopPropagation(),t.onClickDecreaseSharedQty()}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"minus",color:"white"}})],1)],1),a("div",{staticClass:"d-flex drawer-qty"},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.isItemShared,expression:"isItemShared"}],staticClass:"mt-n2",attrs:{dense:"",outlined:""},model:{value:t.sharedQty,callback:function(e){t.sharedQty=e},expression:"sharedQty"}})],1),a("div",{staticClass:"d-flex drawer-actions mr-3"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isItemShared,expression:"isItemShared"}],staticClass:"xxs-btn",attrs:{fab:"",color:"indigo",depressed:""},on:{click:function(e){return e.stopPropagation(),t.onClickIncreaseSharedQty()}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"plus",color:"white"}})],1)],1),a("div",{staticClass:"d-flex"},[a("v-checkbox",{staticClass:"mt-0",attrs:{dense:"",label:"Shared","hide-details":""},model:{value:t.isItemShared,callback:function(e){t.isItemShared=e},expression:"isItemShared"}})],1),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ml-2 mr-2",attrs:{small:"",outlined:"",x:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.onSaveList()}}},[t._v(" Save ")])],1)]),a("v-list",{key:t.componentKey,staticClass:"bottom-drawer custom-scroll",attrs:{nav:"",dense:""}},[t.listData.length?a("v-list-item-group",{attrs:{"active-class":"deep-purple--text text--accent-4"}},t._l(t.listData,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-subtitle",[a("v-checkbox",{staticClass:"ml-3",attrs:{dense:"",label:""+e.name},on:{change:function(a){return t.onClickListItem(e)}},model:{value:e.isChecked,callback:function(a){t.$set(e,"isChecked",a)},expression:"person.isChecked"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isItemShared,expression:"!isItemShared"}],staticClass:"drawer-actions-container"},[a("div",{staticClass:"d-flex drawer-actions"},[a("v-btn",{staticClass:"xxs-btn",attrs:{disabled:0===e.currentQty,fab:"",color:"indigo",depressed:""},on:{click:function(a){return a.stopPropagation(),t.onClickDecreaseQty(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"minus",color:"white"}})],1)],1),a("div",{staticClass:"d-flex drawer-actions drawer-qty"},[a("v-text-field",{staticClass:"mt-n2",attrs:{dense:"",outlined:""},model:{value:e.currentQty,callback:function(a){t.$set(e,"currentQty",a)},expression:"person.currentQty"}})],1),a("div",{staticClass:"d-flex drawer-actions"},[a("v-btn",{staticClass:"xxs-btn",attrs:{fab:"",color:"indigo",depressed:""},on:{click:function(a){return a.stopPropagation(),t.onClickIncreaseQty(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"plus",color:"white"}})],1)],1)])],1)],1)})),1):t._e()],1)],1)},wt=[],Ct={data:function(){return{isItemShared:!1,componentKey:0,sharedQty:1}},props:{listData:{type:Array},activeParentEntity:{type:Object}},watch:{listData:function(t){this.listData=t,this.isItemShared=this.activeParentEntity.isItemShared,this.sharedQty=this.isItemShared&&this.activeParentEntity.itemTotalQty?this.activeParentEntity.itemTotalQty:1}},created:function(){this.activeParentEntity&&(this.isItemShared=this.activeParentEntity.isItemShared)},methods:{forceRerender:function(){this.componentKey+=1},onSaveList:function(){var t={drawerList:this.listData,activeParentEntity:this.activeParentEntity,isItemShared:this.isItemShared};this.isItemShared&&(t.sharedQty=this.sharedQty),this.$emit("onChangePersonDrawerCheckbox",t)},onClickListItem:function(t){t.currentQty=t.isChecked||0===t.currentQty?1:0,this.forceRerender()},onClickDecreaseQty:function(t){t.currentQty--,t.currentQty&&!t.isChecked&&(t.isChecked=!0),t.currentQty||(t.isChecked=!1),this.forceRerender()},onClickIncreaseQty:function(t){t.currentQty++,t.currentQty&&!t.isChecked&&(t.isChecked=!0),this.forceRerender()},onClickDecreaseSharedQty:function(){this.sharedQty--},onClickIncreaseSharedQty:function(){this.sharedQty++}}},kt=Ct,Dt=a("ac7c"),Et=a("1baa"),Mt=Object(c["a"])(kt,yt,wt,!1,null,null,null),Pt=Mt.exports;m()(Mt,{VBtn:p["a"],VCheckbox:Dt["a"],VList:b["a"],VListItem:x["a"],VListItemGroup:Et["a"],VListItemSubtitle:I["b"],VTextField:R["a"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex mt-2"},[a("div",{staticClass:" mr-auto pl-4"},[t._v(" "+t._s(this.activeParentEntity&&this.activeParentEntity.name)+" ")]),a("div",{staticClass:" "},[a("v-btn",{staticClass:"ml-2 mr-2",attrs:{small:"",outlined:"",x:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.onSaveList()}}},[t._v(" Save ")])],1)]),a("v-list",{key:t.componentKey,staticClass:"bottom-drawer custom-scroll",attrs:{nav:"",dense:""}},[t.listData.length?a("v-list-item-group",{attrs:{"active-class":"deep-purple--text text--accent-4"}},t._l(t.listData,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-subtitle",[a("v-checkbox",{attrs:{dense:"",label:e.name+" (₱"+e.itemAmount+")"},on:{change:function(a){return t.onClickListItem(e)}},model:{value:e.isChecked,callback:function(a){t.$set(e,"isChecked",a)},expression:"item.isChecked"}}),a("div",{staticClass:"drawer-actions-container"},[a("div",{staticClass:"d-flex drawer-actions"},[a("v-btn",{staticClass:"xxs-btn",attrs:{disabled:0===e.currentQty,fab:"",color:"indigo",depressed:""},on:{click:function(a){return a.stopPropagation(),t.onClickDecreaseQty(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"minus",color:"white"}})],1)],1),a("div",{staticClass:"d-flex drawer-actions drawer-qty"},[a("v-text-field",{staticClass:"mt-n2",attrs:{dense:"",outlined:""},model:{value:e.currentQty,callback:function(a){t.$set(e,"currentQty",a)},expression:"item.currentQty"}})],1),a("div",{staticClass:"d-flex drawer-actions"},[a("v-btn",{staticClass:"xxs-btn",attrs:{fab:"",color:"indigo",depressed:""},on:{click:function(a){return a.stopPropagation(),t.onClickIncreaseQty(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"plus",color:"white"}})],1)],1)])],1)],1)})),1):t._e()],1)],1)},Tt=[],Vt={data:function(){return{bottomDrawerList:[],componentKey:0}},props:{listData:{type:Array},activeParentEntity:{type:Object}},watch:{listData:function(t){this.listData=t,this.bottomDrawerList=t}},methods:{forceRerender:function(){this.componentKey+=1},onSaveList:function(){this.$emit("onChangeItemDrawerCheckbox",{drawerList:this.listData,activeParentEntity:this.activeParentEntity})},onClickListItem:function(t){t.currentQty=t.isChecked||0===t.currentQty?1:0,this.forceRerender()},onClickDecreaseQty:function(t){t.currentQty--,t.currentQty||(t.isChecked=!1),this.forceRerender()},onClickIncreaseQty:function(t){t.currentQty++,t.currentQty&&!t.isChecked&&(t.isChecked=!0),this.forceRerender()}}},At=Vt,Nt=Object(c["a"])(At,_t,Tt,!1,null,null,null),Lt=Nt.exports;m()(Nt,{VBtn:p["a"],VCheckbox:Dt["a"],VList:b["a"],VListItem:x["a"],VListItemGroup:Et["a"],VListItemSubtitle:I["b"],VTextField:R["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:t.options.color,dense:"",flat:""}},[a("v-toolbar-title",{staticClass:"white--text test"},[t._v(t._s(t.title))])],1),a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}],staticClass:"pa-4"},[t._v(t._s(t.message))]),a("v-card-actions",{staticClass:"pt-0"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v("Yes")]),a("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("Cancel")])],1)],1)],1)},Ot=[],$t={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(t){var e=this,a=t.title,i=t.message,n=t.options;return this.dialog=!0,this.title=a,this.message=i,this.options=Object.assign(this.options,n),new Promise((function(t,a){e.resolve=t,e.reject=a}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}},Qt=$t,jt=a("169a"),Gt=a("71d9"),Ft=Object(c["a"])(Qt,St,Ot,!1,null,null,null),Bt=Ft.exports;m()(Ft,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCardText:X["c"],VDialog:jt["a"],VSpacer:w["a"],VToolbar:Gt["a"],VToolbarTitle:C["a"]});var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},on:{input:function(e){return t.closeModal()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal(e)}},model:{value:t.displayDialog,callback:function(e){t.displayDialog=e},expression:"displayDialog"}},[a("v-card",[a("v-card-text",{staticClass:"custom-scroll overflow-y-auto pl-0",staticStyle:{height:"400px"}},[a("v-container",[a("v-treeview",{staticClass:"text-left",attrs:{items:t.importDialogData,selectable:""},scopedSlots:t._u([{key:"append",fn:function(e){var i=e.item;return[i.children?t._e():a("v-chip",{staticClass:"float-right mr-2",attrs:{color:"green","text-color":"white",small:""}},[t._v("₱"+t._s(i.itemAmount))])]}}]),model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"}),a("div",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveCheckedItems}},[t._v(" Add ")])],1)])],1)],1)},Rt=[],qt={data:function(){return{displayDialog:!1,selection:[]}},props:{showImportDialog:{type:Boolean,default:!1},importDialogData:{type:Array}},watch:{showImportDialog:function(t){this.displayDialog=t}},methods:{closeModal:function(){this.$emit("activateDialog",{dataName:"importDialogData",name:"itemDialog",data:[],value:!1})},saveCheckedItems:function(){this.closeModal(),this.$emit("importItems",{selected:this.selection,list:this.importDialogData})}}},Ht=qt,zt=a("eb2a"),Jt=Object(c["a"])(Ht,Ut,Rt,!1,null,null,null),Kt=Jt.exports;m()(Jt,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCardText:X["c"],VChip:Z["a"],VContainer:F["a"],VDialog:jt["a"],VDivider:et["a"],VTreeview:zt["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},on:{input:function(e){return t.closeModal()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal(e)}},model:{value:t.displayDialog,callback:function(e){t.displayDialog=e},expression:"displayDialog"}},[a("v-card",[a("v-card-text",{staticClass:"custom-scroll overflow-y-auto pl-0",staticStyle:{height:"400px"}},[a("v-container",[a("v-treeview",{staticClass:"text-left",attrs:{items:t.importDialogData,selectable:""},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"}),a("div",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveCheckedItems}},[t._v(" Add ")])],1)])],1)],1)},Yt=[],Xt={data:function(){return{displayDialog:!1,selection:[]}},props:{showImportDialog:{type:Boolean,default:!1},importDialogData:{type:Array}},watch:{showImportDialog:function(t){this.displayDialog=t}},methods:{closeModal:function(){this.$emit("activateDialog",{dataName:"memberDialogData",name:"memberDialog",data:[],value:!1})},saveCheckedItems:function(){this.closeModal(),this.$emit("importMembers",{selected:this.selection,list:this.importDialogData})}}},Zt=Xt,te=Object(c["a"])(Zt,Wt,Yt,!1,null,null,null),ee=te.exports;m()(te,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCardText:X["c"],VContainer:F["a"],VDialog:jt["a"],VDivider:et["a"],VTreeview:zt["a"]});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},on:{input:function(e){return t.closeModal()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal(e)}},model:{value:t.displayDialog,callback:function(e){t.displayDialog=e},expression:"displayDialog"}},[a("v-card",[a("v-list",[a("div",{staticClass:"ml-6 mr-6"},[a("v-text-field",{attrs:{label:"Group Name"},model:{value:t.newGroupName,callback:function(e){t.newGroupName=e},expression:"newGroupName"}})],1),t._l(t.addMembersList,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-subtitle",[a("v-checkbox",{staticClass:"ml-2",attrs:{dense:"",label:""+e.name},model:{value:e.isChecked,callback:function(a){t.$set(e,"isChecked",a)},expression:"item.isChecked"}})],1)],1)}))],2),a("v-divider"),a("v-card-actions",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"}),a("div",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveCheckedItems}},[t._v(" Add ")])],1)])],1)],1)},ie=[],ne={data:function(){return{displayDialog:!1,addMembersList:[],newGroupName:""}},props:{showSaveMembersModal:{type:Boolean,default:!1},membersList:{type:Array}},watch:{showSaveMembersModal:function(t){this.displayDialog=t},membersList:function(t){this.addMembersList=t.map((function(t){return{id:t.id,name:t.name,isChecked:!0}}))}},methods:{closeModal:function(){this.newGroupName="",this.$emit("showAddMembersToGroup",{hideModal:!0})},saveCheckedItems:function(){if(this.newGroupName){var t=this.addMembersList.filter((function(t){return t.isChecked}));this.$emit("submitMembersToGroup",{children:t,groupName:this.newGroupName}),this.closeModal()}}}},se=ne,oe=Object(c["a"])(se,ae,ie,!1,null,null,null),re=oe.exports;m()(oe,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCheckbox:Dt["a"],VDialog:jt["a"],VDivider:et["a"],VList:b["a"],VListItem:x["a"],VListItemSubtitle:I["b"],VTextField:R["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},on:{input:function(e){return t.closeModal()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal(e)}},model:{value:t.displayDialog,callback:function(e){t.displayDialog=e},expression:"displayDialog"}},[t.addItemsList.length?a("v-card",[a("v-list",[a("div",{staticClass:"ml-6 mr-6"},[a("v-text-field",{attrs:{label:"Group Name"},model:{value:t.newGroupName,callback:function(e){t.newGroupName=e},expression:"newGroupName"}})],1),t._l(t.addItemsList,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-subtitle",[a("v-checkbox",{staticClass:"ml-2",attrs:{dense:"",label:""+e.name},model:{value:e.isChecked,callback:function(a){t.$set(e,"isChecked",a)},expression:"item.isChecked"}})],1)],1)}))],2),a("v-divider"),a("v-card-actions",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"}),a("div",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveCheckedItems}},[t._v(" Add ")])],1)])],1):t._e()],1)},ce=[],de={data:function(){return{displayDialog:!1,addItemsList:[],newGroupName:""}},props:{showSaveItemsModal:{type:Boolean,default:!1},itemList:{type:Array}},watch:{showSaveItemsModal:function(t){this.displayDialog=t},itemList:function(t){this.addItemsList=t.map((function(t){return{id:t.id,name:t.name,itemAmount:t.itemAmount,isChecked:!0}}))}},methods:{closeModal:function(){this.newGroupName="",this.$emit("showAddItemsToGroup",{hideModal:!0})},saveCheckedItems:function(){if(this.newGroupName){var t=this.addItemsList.filter((function(t){return t.isChecked}));this.$emit("submitItemsToGroup",{children:t,groupName:this.newGroupName}),this.closeModal()}}}},me=de,ue=Object(c["a"])(me,le,ce,!1,null,null,null),ve=ue.exports;m()(ue,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCheckbox:Dt["a"],VDialog:jt["a"],VDivider:et["a"],VList:b["a"],VListItem:x["a"],VListItemSubtitle:I["b"],VTextField:R["a"]});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:t.options.color,dense:"",flat:""}},[a("v-toolbar-title",{staticClass:"white--text test"},[t._v(t._s(t.title))])],1),a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}],staticClass:"pa-4"},[t._v(t._s(t.message))]),a("v-card-subtitle",[a("v-text-field",{ref:"payment",attrs:{type:"number",label:"Amount",prefix:"₱"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitPayment(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}]},model:{value:t.newPaymentValue,callback:function(e){t.newPaymentValue=e},expression:"newPaymentValue"}})],1),a("v-card-actions",{staticClass:"pt-0"},[a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.submitPayment}},[t._v("Save")]),a("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("Cancel")])],1)],1)],1)},fe=[],pe={data:function(){return{dialog:!1,newPaymentValue:0,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(t){var e=this,a=t.title,i=t.message,n=t.options;return this.dialog=!0,this.title=a,this.message=i,this.options=Object.assign(this.options,n),new Promise((function(t,a){e.resolve=t,e.reject=a}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1},submitPayment:function(){this.resolve(!0)}}},be=pe,xe=Object(c["a"])(be,he,fe,!1,null,null,null),Ie=xe.exports;m()(xe,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCardSubtitle:X["b"],VCardText:X["c"],VDialog:jt["a"],VTextField:R["a"],VToolbar:Gt["a"],VToolbarTitle:C["a"]});var ge={name:"Splitter",data:function(){return{entryData:null,loggedInUser:"",newEntryTitle:"",ownerHasLoggedIn:!1,itemDialog:!1,memberDialog:!1,entryTitleEditMode:!1,isPrintMode:!1,itemDialogData:[],memberDialogData:[],tab:null,members:[],tabItems:["Items","Members"],itemDrawer:!1,personDrawer:!1,showEditInputItem:!1,showEditInputPerson:!1,addItemsToMemberParent:!1,saveMembersModal:!1,saveItemsModal:!1,group:null,activeParentEntity:{},openedPersonDrawer:{},openedItemDrawer:{},editItemData:{},editPersonData:{},itemParentMemberList:[],memberParentItemList:[]}},components:{InputItemData:H,InputPersonData:ht,ItemList:lt,MemberList:gt,MemberListBottomDrawer:Pt,ItemListBottomDrawer:Lt,ConfirmDeleteItem:Bt,ItemsGroupDialog:Kt,MembersGroupDialog:ee,SaveMembersToGroup:re,ConfirmPayment:Ie,SaveItemsToGroup:ve},mixins:[O],mounted:function(){this.entryID=this.$route.params.id,this.fetchEntryData()},watch:{entryData:function(t){this.loggedInUser=o["a"].auth().currentUser,this.ownerHasLoggedIn=this.loggedInUser&&t.ownerId===this.loggedInUser.uid}},methods:{fetchEntryData:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ma.collection("entries").doc(t.entryID).get().then((function(e){t.entryData=e.data()})).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()},saveItemValues:function(t){var e=this,a=null;if(t.id){var i=this.entryData.items.find((function(e){return e.id===t.id}));i.name=t.newItemName,i.itemAmount=parseFloat(t.newItemAmount).toFixed(2),i.itemTotal=parseFloat(parseFloat(i.itemAmount)*i.itemTotalQty).toFixed(2),i.memberList.forEach((function(t){t.itemAmount=i.itemAmount,t.itemTotal=parseFloat(parseFloat(t.itemAmount)*t.itemQty).toFixed(2)})),this.entryData.members.forEach((function(a){var i=a.itemList.find((function(e){return e.id===t.id}));i&&(i.name=t.newItemName,i.itemAmount=parseFloat(t.newItemAmount).toFixed(2),i.itemTotal=parseFloat(parseFloat(t.newItemAmount)*i.itemQty).toFixed(2)),a.totalPayable=e.getSumofItems(a.itemList,"itemTotal")})),a={items:this.entryData.items,members:this.entryData.members}}else a={items:[{id:this.getUniqueID(),name:t.newItemName,itemAmount:parseFloat(t.newItemAmount).toFixed(2),itemTotal:"",itemTotalQty:0,isItemShared:!1,memberList:[]}].concat(Object(A["a"])(this.entryData.items))};var n=ma.collection("entries").doc(this.entryID);return n.update(a).then((function(){e.fetchEntryData(),e.activateEditItemDialog({showInput:!0})})).catch((function(t){console.error("Error updating document: ",t)}))},saveUserValues:function(t){var e=this,a=null;if(t.id){var i=this.entryData.members.find((function(e){return e.id===t.id}));i.name=t.newPersonName,this.entryData.items.forEach((function(e){var a=e.memberList.find((function(e){return e.id===t.id}));a&&(a.name=t.newPersonName)})),a={items:this.entryData.items,members:this.entryData.members}}else a={members:[{id:this.getUniqueID(),name:t.newPersonName,totalPayable:"",itemList:[]}].concat(Object(A["a"])(this.entryData.members))};var n=ma.collection("entries").doc(this.entryID);return n.update(a).then((function(){e.fetchEntryData(),e.activateEditPersonDialog({showInput:!0})})).catch((function(t){console.error("Error updating document: ",t)}))},addItemChildtoEntity:function(t){var e=this,a=t.drawerList,i=t.activeParentEntity,n=t.isItemShared;this[this.addItemsToMemberParent?"itemDrawer":"personDrawer"]=!1;var s=this.addItemsToMemberParent?"itemList":"memberList",o=[];if(a.map((function(t){var a=null;if(t.isChecked){var r=e.addItemsToMemberParent?t.itemAmount:i.itemAmount;a={id:t.id,name:t.name,itemAmount:r,itemQty:n?1:t.currentQty,itemTotal:parseFloat(parseFloat(r)*t.currentQty).toFixed(2)},o.push(a)}if(i[s]=o,a)return a})),n&&t.sharedQty){i.isItemShared=n;var r=parseFloat(parseFloat(i.itemAmount)*+t.sharedQty).toFixed(2),l=parseFloat(r/o.length).toFixed(2);i.itemTotalQty=+t.sharedQty,i.itemTotal=r,i[s].forEach((function(t){t.itemAmount=r,t.itemTotal=l,t.itemQty=o.length}))}else this.addItemsToMemberParent?i.totalPayable=this.getSumofItems(i[s],"itemTotal"):(i.itemTotalQty=parseInt(this.getSumofItems(i[s],"itemQty")),i.itemTotal=this.getSumofItems(i[s],"itemTotal"));var c=this.addItemsToMemberParent?this.entryData.items:this.entryData.members,d=this.addItemsToMemberParent?"memberList":"itemList";c.forEach((function(t,a){var r=o.find((function(e){return e.id===t.id}));if(r){var l=c[a][d].find((function(t){return t.id===i.id}));l?(l.itemAmount=r.itemAmount,l.itemQty=n?1:r.itemQty,l.itemTotal=r.itemTotal,l.isItemShared="undefined"!==typeof n&&n):c[a][d].push({id:i.id,name:i.name,itemAmount:r.itemAmount,itemQty:n?o.length:r.itemQty,itemTotal:r.itemTotal,isItemShared:"undefined"!==typeof n&&n}),e.addItemsToMemberParent?(t.itemTotalQty=parseInt(e.getSumofItems(c[a][d],"itemQty")),t.itemTotal=e.getSumofItems(c[a][d],"itemTotal")):t.totalPayable=e.getSumofItems(c[a][d],"itemTotal")}var m=t[d].findIndex((function(t){return t.id===i.id}));if(m>=0){var u=i[s].find((function(e){return e.id===t.id}));u||(t[d].splice(m,1),t.totalPayable=e.getSumofItems(t[d],"itemTotal"),t.itemTotalQty=+e.getSumofItems(t[d],"itemQty"),t.itemTotal=e.getSumofItems(t[d],"itemTotal"))}})),this.updateEntry({members:this.entryData.members,items:this.entryData.items})},getSumofItems:function(t,e){var a,i=0,n=Object(V["a"])(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;s[e]&&(i=(parseFloat(i)+parseFloat(s[e])).toFixed(2))}}catch(o){n.e(o)}finally{n.f()}return i},sortByKey:function(t,e){return t.sort((function(t,a){var i=t[e],n=a[e];return i<n?-1:i>n?1:0}))},getUniqueID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}))},toggleItemBtmDrawer:function(t){this.addItemsToMemberParent=!1,this.personDrawer=t},togglePersonBtmDrawer:function(t){this.addItemsToMemberParent=!0,this.itemDrawer=t},updateEntry:function(t,e){var a=this,i=ma.collection("entries").doc(this.entryID);return i.update(t).then((function(){a.fetchEntryData(),e&&e()})).catch((function(t){console.error("Error updating document: ",t)}))},setActivePersonDrawer:function(t){var e=this.entryData.items.map((function(e){var a=t.itemList.find((function(t){return t.id===e.id}));return e.currentQty=a?a.itemQty:0,e.isChecked=Boolean(a),e}));this.activeParentEntity=t,this.memberParentItemList=e},setActiveItemDrawer:function(t){var e=this.entryData.members.map((function(e){var a=t.memberList.find((function(t){return t.id===e.id}));return e.currentQty=a?a.itemQty:0,e.isChecked=Boolean(a),e}));this.activeParentEntity=t,this.itemParentMemberList=e},onToggleEditInputItem:function(t){this.showEditInputItem=!t,this.showEditInputItem||(this.inputItemMode=!1)},onToggleEditInputPerson:function(t){this.showEditInputPerson=!t,this.showEditInputPerson||(this.inputPersonMode=!1)},activateEditItemDialog:function(t){var e=Boolean(t&&t.id);this.editItemData=t,this.inputItemMode=e,this.showEditInputItem=e||t.showInput},activateEditPersonDialog:function(t){var e=Boolean(t&&t.id);this.editPersonData=t,this.inputPersonMode=e,this.showEditInputPerson=e||t.showInput},onClickImportItems:function(){var t=this;this.getSubCollectionData({collection:"userData",docId:this.loggedInUser.uid,subcollection:"itemGroups",callback:function(e){e&&e.data&&t.activateEntityDialog({dataName:"itemDialogData",name:"itemDialog",data:e.data,value:!0})}})},onClickListAddItemsToGroup:function(){this.saveItemsModal=!0},showAddItemsToGroupModal:function(t){this.saveItemsModal=!(t&&t.hideModal)},submitSelectedItemsToGroup:function(t){var e=this,a=o["a"].firestore.FieldValue.serverTimestamp();ma.collection("userData").doc(this.loggedInUser.uid).collection("itemGroups").add({name:t.groupName,createdOn:a,children:t.children}).then((function(){e.showAddItemsToGroupModal({hideModal:!0})})).catch((function(t){console.error("Error adding document: ",t)}))},onClickSaveItemsToList:function(){this.activateEntityDialog({dataName:"childrenList",data:this.entryData.items,name:"showSaveItemsToList",value:!0})},confirmSaveItemsToList:function(){var t=this,e=this.entryData.items.map((function(e){return{id:t.getUniqueID(),itemAmount:e.itemAmount,name:e.name}})),a=o["a"].firestore.FieldValue.serverTimestamp();ma.collection("userData").doc(this.loggedInUser.uid).collection("itemGroups").add({name:"Sample",createdOn:a,children:e}).then((function(){t.newItemName="",t.showEditInputItem=!1,t.fetchItems()})).catch((function(t){console.error("Error adding document: ",t)}))},onClickImportMember:function(){var t=this;this.getSubCollectionData({collection:"userData",docId:this.loggedInUser.uid,subcollection:"memberGroups",callback:function(e){e&&e.data&&t.activateEntityDialog({dataName:"memberDialogData",name:"memberDialog",data:e.data,value:!0})}})},activateEntityDialog:function(t){t&&t.dataName&&t.data&&(this[t.dataName]=t.data),this[t.name]=t.value},importMembersToList:function(t){for(var e=this,a=[],i=function(i){for(var n=t.selected[i],s=t.list,o=function(i){var o=s[i].children.find((function(t){return t.id===n})),r=o&&a.length&&a.find((function(t){return t.name===o.name}));if(o&&!r){var l=JSON.parse(JSON.stringify(o));l.id=e.getUniqueID(),l.totalPayable="",l.itemList=[],e.entryData.members.push(l),a.push(l)}if(t.selected.length===a.length)return"break"},r=0;r<s.length;r++){var l=o(r);if("break"===l)break}},n=0;n<t.selected.length;n++)i(n);var s=this;this.updateData({collection:"entries",docId:this.entryID,requestData:{members:this.entryData.members},callback:function(){s.fetchEntryData()}})},importItemsToList:function(t){for(var e=this,a=[],i=function(i){for(var n=t.selected[i],s=t.list,o=0;o<s.length;o++){var r=s[o].children.find((function(t){return t.id===n}));if(r){var l=JSON.parse(JSON.stringify(r));l.id=e.getUniqueID(),l.itemTotal="",l.itemTotalQty=0,l.isItemShared=!1,l.memberList=[],e.entryData.items.push(l),a.push(l)}if(t.selected.length===a.length)break}},n=0;n<t.selected.length;n++)i(n);var s=this;this.updateData({collection:"entries",docId:this.entryID,requestData:{items:this.entryData.items},callback:function(){s.fetchEntryData()}})},onClickListAddMembersToGroup:function(){this.saveMembersModal=!0},showAddMembersToGroupModal:function(t){this.saveMembersModal=!(t&&t.hideModal)},submitSelectedMembersToGroup:function(t){var e=this,a=o["a"].firestore.FieldValue.serverTimestamp();ma.collection("userData").doc(this.loggedInUser.uid).collection("memberGroups").add({name:t.groupName,createdOn:a,children:t.children}).then((function(){e.showAddMembersToGroupModal({hideModal:!0})})).catch((function(t){console.error("Error adding document: ",t)}))},activateDeleteItemDialog:function(t){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$refs.confirm.open({title:"Delete",message:"Are you sure you want to remove ".concat(t.name,"?"),options:{color:"red"}});case 2:if(!a.sent){a.next=8;break}i=e.entryData.members.map((function(a){return a.itemList=a.itemList.filter((function(e){return e.id!==t.id})),a.totalPayable=e.getSumofItems(a.itemList,"itemTotal"),a})),n=e.entryData.items.filter((function(e){return e.id!==t.id})),e.updateEntry({items:n,members:i}),a.next=9;break;case 8:console.log("dialog unavailable");case 9:case"end":return a.stop()}}),a)})))()},activateDeletePersonDialog:function(t){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$refs.confirm.open({title:"Delete",message:"Are you sure you want to remove ".concat(t.name,"?"),options:{color:"red"}});case 2:if(!a.sent){a.next=8;break}i=e.entryData.members.filter((function(e){return e.id!==t.id})),n=e.entryData.items.map((function(a){return a.memberList=a.memberList.filter((function(e){return e.id!==t.id})),a.itemTotalQty=parseInt(e.getSumofItems(a.memberList,"itemQty")),a.itemTotal=e.getSumofItems(a.memberList,"itemTotal"),a})),e.updateEntry({items:n,members:i}),a.next=9;break;case 8:console.log("dialog unavailable");case 9:case"end":return a.stop()}}),a)})))()},activateBillPayment:function(t){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$refs.payment.open({title:"Pay",message:"Paid by: ".concat(t.name,"?"),options:{color:"green"}});case 2:if(!a.sent){a.next=8;break}i=e.entryData.members.filter((function(e){return e.id!==t.id})),n=e.entryData.items.map((function(a){return a.memberList=a.memberList.filter((function(e){return e.id!==t.id})),a.itemTotalQty=parseInt(e.getSumofItems(a.memberList,"itemQty")),a.itemTotal=e.getSumofItems(a.memberList,"itemTotal"),a})),e.updateEntry({items:n,members:i}),a.next=9;break;case 8:console.log("dialog unavailable");case 9:case"end":return a.stop()}}),a)})))()},onClickEditEntryTitle:function(){var t=this;this.entryTitleEditMode=!this.entryTitleEditMode,this.entryTitleEditMode&&this.$nextTick((function(){t.newEntryTitle=t.entryData.title,t.$refs.entryTitle.focus()}))},saveEntryTitle:function(){var t=this;this.updateEntry({title:this.newEntryTitle},(function(){t.entryTitleEditMode=!t.entryTitleEditMode,t.updateSubCollectionData({collection:"userData",docId:t.loggedInUser.uid,subcollection:"entries",subcollectionDocId:t.entryID,requestData:{title:t.newEntryTitle}})}))},onClickDeleteEntry:function(){var t=this;this.$refs.confirm.open({title:"Delete",message:"Delete ".concat(this.entryData.title," and its contents?"),options:{color:"red"}}).then((function(e){if(e){var a=t;t.deleteCollectionData({collection:"entries",docId:a.entryID,callback:function(){a.deleteSubCollectionData({collection:"userData",docId:a.loggedInUser.uid,subcollection:"entries",subcollectionDocId:a.entryID,callback:function(){var t=a;t.deleteCollectionData({collection:"userData",docId:t.entryID,callback:function(){t.$router.push({path:"/"})}})}})}})}}))},setupPrintingArea:function(t){var e=this;this.isPrintMode=!this.isPrintMode,this.$nextTick((function(){e.printThis(e,t)}))},printThis:function(t,e){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function i(){var n,s,o,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n="items"===e?t.$refs.itemlistref.$refs.printcontent:t.$refs.memberlistref.$refs.printcontent,s={type:"dataURL"},i.next=4,S()(n,s);case 4:o=i.sent,r=document.createElement("a"),r.setAttribute("download","download.png"),r.setAttribute("href",o.toDataURL("image/png").replace("image/png","image/octet-stream")),r.click(),a.isPrintMode=!a.isPrintMode;case 10:case"end":return i.stop()}}),i)})))()}}},ye=ge,we=(a("a045"),a("f774")),Ce=a("71a3"),ke=a("c671"),De=a("fe57"),Ee=a("aac8"),Me=a("9a96"),Pe=Object(c["a"])(ye,_,T,!1,null,null,null),_e=Pe.exports;m()(Pe,{VBtn:p["a"],VCol:tt["a"],VContainer:F["a"],VList:b["a"],VListItem:x["a"],VListItemTitle:I["c"],VMenu:y["a"],VNavigationDrawer:we["a"],VRow:ot["a"],VTab:Ce["a"],VTabItem:ke["a"],VTabs:De["a"],VTabsItems:Ee["a"],VTabsSlider:Me["a"],VTextField:R["a"]});var Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",{attrs:{color:"indigo"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",[t._v("Entries")]),a("v-tab",[t._v("Items")]),a("v-tab",[t._v("Members")])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:0},[a("v-row",{attrs:{"no-gutters":""}},[a("v-container",{directives:[{name:"show",rawName:"v-show",value:!t.showEditInputEntry,expression:"!showEditInputEntry"}]},[a("v-btn",{attrs:{outlined:"",block:"",color:"indigo"},on:{click:function(e){return t.onToggleEditInputEntry(t.showEditInputEntry)}}},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"plus",size:"sm"}}),t._v(" ADD ENTRY ")],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.showEditInputEntry,expression:"showEditInputEntry"}]},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-grow-1"},[a("v-text-field",{ref:"entryName",staticClass:"mr-3",attrs:{label:"Name"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.storeEntry(e)}},model:{value:t.newEntryName,callback:function(e){t.newEntryName=e},expression:"newEntryName"}})],1),a("div",{staticClass:"mt-2"},[a("v-btn",{staticClass:"xxs-btn mr-1",attrs:{outlined:"",fab:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.storeEntry(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"check"}})],1),a("v-btn",{staticClass:"xxs-btn",attrs:{outlined:"",fab:"",color:"deep-orange darken-4"},on:{click:function(e){return e.stopPropagation(),t.onClickCancelAddEntry(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1)],1)])])],1),a("div",{staticClass:"mainlistdata custom-scroll"},t._l(t.entriesList,(function(e){return a("v-row",{key:e.id,attrs:{"no-gutters":""}},[a("v-container",{staticClass:"mb-n3"},[a("v-hover",[a("v-card",{attrs:{to:"/splitter/"+e.id,outlined:"",shaped:"",tile:""}},[a("v-list-item-title",{staticClass:"text-left mx-4 my-4 indigo--text"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"},[t._v(t._s(e.title))]),a("div",[e.createdOn?a("small",{staticClass:"grey--text lighten-4"},[t._v(t._s(t.formatDate(e.createdOn)))]):t._e()])])])],1)],1)],1)],1)})),1)],1),a("v-tab-item",{key:1},[a("v-row",{attrs:{"no-gutters":""}},[a("v-container",{directives:[{name:"show",rawName:"v-show",value:!t.showEditInputItem,expression:"!showEditInputItem"}]},[a("v-btn",{attrs:{outlined:"",block:"",color:"indigo"},on:{click:function(e){return t.onToggleEditInputItem(t.showEditInputItem)}}},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"plus",size:"sm"}}),t._v(" ADD ITEM GROUP ")],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.showEditInputItem,expression:"showEditInputItem"}],staticClass:"mb-n8 mt-2 ",attrs:{flat:""}},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-grow-1"},[a("v-text-field",{ref:"itemName",staticClass:"mr-3",attrs:{label:"Name"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.storeItem(e)}},model:{value:t.newItemName,callback:function(e){t.newItemName=e},expression:"newItemName"}})],1),a("div",{staticClass:"mt-2"},[a("v-btn",{staticClass:"xxs-btn mr-1",attrs:{outlined:"",fab:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.storeItem(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"check"}})],1),a("v-btn",{staticClass:"xxs-btn",attrs:{outlined:"",fab:"",color:"deep-orange darken-4"},on:{click:function(e){return e.stopPropagation(),t.onClickCancelAddItem(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1)],1)])])],1),t.itemList&&t.itemList.length?a("div",{staticClass:"mainlistdata custom-scroll mr-3"},[a("v-treeview",{staticClass:"text-left ",attrs:{items:t.itemList,outlined:"",shaped:"",tile:""},scopedSlots:t._u([{key:"append",fn:function(e){var i=e.item;return[i.children?a("v-btn",{staticClass:"float-right white--text",attrs:{color:"red darken-3",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.removeParentEntity(i,"item")}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1):t._e(),i.children?a("v-btn",{staticClass:"float-right white--text mr-1",attrs:{color:"blue darken-3",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.editItemParent(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"pencil-alt"}})],1):t._e(),i.children?a("v-btn",{staticClass:"float-right white--text mr-1",attrs:{color:"blue lighten-1",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.activateItemModal(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"plus"}})],1):t._e(),i.children?t._e():a("v-btn",{staticClass:"float-right white--text",attrs:{color:"red darken-3",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.removeChild(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1),i.children?t._e():a("v-btn",{staticClass:"float-right white--text mr-1",attrs:{color:"blue darken-3",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.activateItemModal(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"pencil-alt"}})],1),i.children?t._e():a("v-chip",{staticClass:"float-right mr-2 mt-1",attrs:{color:"green","text-color":"white",small:""}},[t._v("₱"+t._s(i.itemAmount))])]}}],null,!1,3725337389)}),a("ItemAddItemChild",{attrs:{activeModalItemObj:t.activeModalItemObj,editMode:t.editItemMode,showItemDialog:t.itemDialog},on:{activateDialog:t.activateItemModal,addItemChildtoEntity:t.addItemChildtoEntity}})],1):t._e()],1),a("v-tab-item",{key:2},[a("v-row",{attrs:{"no-gutters":""}},[a("v-container",{directives:[{name:"show",rawName:"v-show",value:!t.showEditInputMember,expression:"!showEditInputMember"}]},[a("v-btn",{attrs:{outlined:"",block:"",color:"indigo"},on:{click:function(e){return t.onToggleEditInputMember(t.showEditInputMember)}}},[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"plus",size:"sm"}}),t._v(" ADD MEMBER GROUP ")],1)],1),a("v-container",{directives:[{name:"show",rawName:"v-show",value:t.showEditInputMember,expression:"showEditInputMember"}],staticClass:"mb-n8 mt-2"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-grow-1"},[a("v-text-field",{ref:"memberName",staticClass:"mr-3",attrs:{label:"Name"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.storeMember(e)}},model:{value:t.newMemberName,callback:function(e){t.newMemberName=e},expression:"newMemberName"}})],1),a("div",{staticClass:"mt-2"},[a("v-btn",{staticClass:"xxs-btn mr-1",attrs:{outlined:"",fab:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.storeMember(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"check"}})],1),a("v-btn",{staticClass:"xxs-btn",attrs:{outlined:"",fab:"",color:"deep-orange darken-4"},on:{click:function(e){return e.stopPropagation(),t.onClickCancelAddMember(e)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1)],1)])])],1),t.memberList&&t.memberList.length?a("div",{staticClass:"mainlistdata custom-scroll mr-3"},[a("v-treeview",{staticClass:"text-left",attrs:{items:t.memberList,outlined:"",shaped:"",tile:""},scopedSlots:t._u([{key:"append",fn:function(e){var i=e.item;return[i.children?a("v-btn",{staticClass:"float-right white--text",attrs:{color:"red darken-3",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.removeParentEntity(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1):t._e(),i.children?a("v-btn",{staticClass:"float-right white--text mr-1",attrs:{color:"blue darken-3",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.activateMemberModal(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"pencil-alt"}})],1):t._e(),i.children?a("v-btn",{staticClass:"float-right white--text mr-1",attrs:{color:"blue lighten-1",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.activateMemberModal(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"plus"}})],1):t._e(),i.children?t._e():a("v-btn",{staticClass:"float-right white--text",attrs:{color:"red darken-3",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.removeMemberChild(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"times"}})],1),i.children?t._e():a("v-btn",{staticClass:"float-right white--text mr-1",attrs:{color:"blue darken-3",fab:"",elevation:"0","x-small":""},on:{click:function(e){return t.activateMemberModal(i)}}},[a("font-awesome-icon",{staticClass:"xxs-btnicon",attrs:{icon:"pencil-alt"}})],1)]}}],null,!1,2492053197)}),a("MemberAddItemChild",{attrs:{activeModalMemberObj:t.activeModalMemberObj,editMode:t.editMemberMode,showItemDialog:t.memberDialog},on:{activateDialog:t.activateMemberModal,addMemberChildtoEntity:t.addMemberChildtoEntity}})],1):t._e()],1)],1),a("ConfirmModal",{ref:"confirm"})],1)},Ve=[],Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},on:{input:function(e){return t.closeModal()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal(e)}},model:{value:t.displayDialog,callback:function(e){t.displayDialog=e},expression:"displayDialog"}},[a("v-card",[a("v-card-text",{staticStyle:{height:"100px"}},[a("v-container",[a("v-layout",{staticClass:"pa-1"},[a("v-flex",{attrs:{xs8:""}},[a("div",{staticClass:"pa-1"},[a("v-text-field",{ref:"itemName",attrs:{label:"Name"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEntity(e)}},model:{value:t.newItemName,callback:function(e){t.newItemName=e},expression:"newItemName"}})],1)]),a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"pa-1 right-input"},[a("v-text-field",{ref:"itemAmount",attrs:{type:"number",label:"Amount",prefix:"₱"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEntity(e)}},model:{value:t.newItemAmount,callback:function(e){t.newItemAmount=e},expression:"newItemAmount"}})],1)])],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"}),a("div",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}],attrs:{color:"blue darken-1",text:""},on:{click:t.saveEntity}},[t._v(" Save and add new ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveAndClose}},[t._v(" Save and close ")])],1)])],1)],1)},Ne=[],Le={data:function(){return{displayDialog:!1,showEditInputItem:!1,inputItemMode:!1,editItemData:{},editId:0,newItemName:"",newItemAmount:""}},props:{showItemDialog:{type:Boolean,default:!1},editMode:{type:Boolean},activeModalItemObj:{type:Object}},watch:{showItemDialog:function(t){this.displayDialog=t},editMode:function(t){t&&this.activeModalItemObj&&(this.editId=this.activeModalItemObj.id,this.newItemName=this.activeModalItemObj.name,this.newItemAmount=this.activeModalItemObj.itemAmount)},displayDialog:function(){var t=this;setTimeout((function(){t.displayDialog&&t.$nextTick((function(){t.$refs.itemName.focus()}))}),200)}},methods:{closeModal:function(){this.$emit("activateDialog",{name:"itemDialog",value:!1,dataName:"itemDialogData",data:[],reset:!0}),this.resetValues()},saveCheckedItems:function(){this.closeModal()},onToggleEditInputItem:function(t){this.showEditInputItem=!t,this.showEditInputItem||(this.inputItemMode=!1)},saveAndClose:function(){this.saveEntity({closewindow:!0})},saveEntity:function(t){if(this.newItemName&&this.newItemAmount){var e={newItemName:this.newItemName,newItemAmount:parseFloat(this.newItemAmount).toFixed(2),persistWindow:!t.closewindow,editMode:this.editMode};this.editMode&&(e.id=this.editId),this.$emit("addItemChildtoEntity",e),this.resetValues()}},resetValues:function(){this.newItemName="",this.newItemAmount="",this.editId=0,this.$refs.itemName.focus()}}},Se=Le,Oe=Object(c["a"])(Se,Ae,Ne,!1,null,null,null),$e=Oe.exports;m()(Oe,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCardText:X["c"],VContainer:F["a"],VDialog:jt["a"],VDivider:et["a"],VFlex:B["a"],VLayout:U["a"],VTextField:R["a"]});var Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},on:{input:function(e){return t.closeModal()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal(e)}},model:{value:t.displayDialog,callback:function(e){t.displayDialog=e},expression:"displayDialog"}},[a("v-card",[a("v-card-text",{staticStyle:{height:"100px"}},[a("v-container",[a("v-layout",{staticClass:"pa-1"},[a("v-flex",{attrs:{x12:""}},[a("div",{staticClass:"pa-1"},[a("v-text-field",{ref:"memberName",attrs:{label:"Name"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveEntity(e)}},model:{value:t.newMemberName,callback:function(e){t.newMemberName=e},expression:"newMemberName"}})],1)])],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"d-flex"},[a("div",{staticClass:"mr-auto"}),a("div",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}],attrs:{color:"blue darken-1",text:""},on:{click:t.saveEntity}},[t._v(" Save and add new ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveAndClose}},[t._v(" Save and close ")])],1)])],1)],1)},je=[],Ge={data:function(){return{displayDialog:!1,showEditInputItem:!1,inputItemMode:!1,editItemData:{},editId:0,newMemberName:""}},props:{showItemDialog:{type:Boolean,default:!1},editMode:{type:Boolean},activeModalMemberObj:{type:Object}},watch:{showItemDialog:function(t){this.displayDialog=t},editMode:function(t){t&&this.activeModalMemberObj&&(this.editId=this.activeModalMemberObj.id,this.newMemberName=this.activeModalMemberObj.name)},displayDialog:function(){var t=this;setTimeout((function(){t.displayDialog&&t.$nextTick((function(){t.$refs.memberName.focus()}))}),200)}},methods:{closeModal:function(){this.$emit("activateDialog",{name:"memberDialog",value:!1,dataName:"memberDialogData",data:[],reset:!0}),this.resetValues()},saveCheckedItems:function(){this.closeModal()},onToggleEditInputItem:function(t){this.showEditInputItem=!t,this.showEditInputItem||(this.inputItemMode=!1)},saveAndClose:function(){this.saveEntity({closewindow:!0})},saveEntity:function(t){if(this.newMemberName){var e={newMemberName:this.newMemberName,persistWindow:!t.closewindow,editMode:this.editMode};this.editMode&&(e.id=this.editId),this.$emit("addMemberChildtoEntity",e),this.resetValues()}},resetValues:function(){this.newMemberName="",this.editId=0,this.$refs.memberName.focus()}}},Fe=Ge,Be=Object(c["a"])(Fe,Qe,je,!1,null,null,null),Ue=Be.exports;m()(Be,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCardText:X["c"],VContainer:F["a"],VDialog:jt["a"],VDivider:et["a"],VFlex:B["a"],VLayout:U["a"],VTextField:R["a"]});var Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:t.options.color,dense:"",flat:""}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.title))])],1),a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}],staticClass:"pa-4"},[t._v(t._s(t.message))]),a("v-card-actions",{staticClass:"pt-0"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v("Yes")]),a("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("Cancel")])],1)],1)],1)},qe=[],He={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(t){var e=this,a=t.message,i=t.title,n=t.options;return this.dialog=!0,this.title=i,this.message=a,this.options=Object.assign(this.options,n),new Promise((function(t,a){e.resolve=t,e.reject=a}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}},ze=He,Je=Object(c["a"])(ze,Re,qe,!1,null,null,null),Ke=Je.exports;m()(Je,{VBtn:p["a"],VCard:Y["a"],VCardActions:X["a"],VCardText:X["c"],VDialog:jt["a"],VSpacer:w["a"],VToolbar:Gt["a"],VToolbarTitle:C["a"]});var We={data:function(){return{loggedInUser:"",showEditInputEntry:!1,showEditInputItem:!1,showEditInputMember:!1,itemDialog:!1,memberDialog:!1,saveMembersModal:!1,editItemMode:!1,editMemberMode:!1,editItemParentMode:!1,editMemberParentMode:!1,newEntryName:"",newEntryId:"",newItemName:"",newItemAmount:"",newItemId:"",newMemberName:"",newMemberId:"",tab:null,entriesList:[],itemList:[],memberList:[],activeDialogData:[],activeModalItemObj:{},activeModalMemberObj:{},activeItemParent:{},activeMemberParent:{},nextId:1e3}},mixins:[O],components:{ItemAddItemChild:$e,MemberAddItemChild:Ue,ConfirmModal:Ke},created:function(){this.loggedInUser=o["a"].auth().currentUser,this.loggedInUser&&(this.fetchEntries(),this.fetchItems(),this.fetchMembers())},methods:{fetchEntries:function(){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ma.collection("userData").doc(t.loggedInUser.uid).collection("entries").get().then((function(e){t.entriesList=[],e.forEach((function(e){var a=e.data();a.id=e.id,t.entriesList.push(a)}))})).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()},fetchItems:function(t){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,ma.collection("userData").doc(e.loggedInUser.uid).collection("itemGroups").get().then((function(a){e.itemList=[],a.forEach((function(t){var a=t.data();a.id=t.id,e.itemList.push(a)})),e.$nextTick((function(){t&&t()}))})).catch((function(t){console.error(t)}));case 2:case"end":return a.stop()}}),a)})))()},fetchMembers:function(t){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,ma.collection("userData").doc(e.loggedInUser.uid).collection("memberGroups").get().then((function(a){e.memberList=[],a.forEach((function(t){var a=t.data();a.id=t.id,e.memberList.push(a)})),e.$nextTick((function(){t&&t()}))})).catch((function(t){console.error(t)}));case 2:case"end":return a.stop()}}),a)})))()},storeEntry:function(){var t=this,e=o["a"].firestore.FieldValue.serverTimestamp();ma.collection("userData").doc(this.loggedInUser.uid).collection("entries").add({title:this.newEntryName,createdOn:e}).then((function(a){t.newEntryId=a.id,ma.collection("entries").doc(a.id).set({title:t.newEntryName,createdOn:e,ownerId:t.loggedInUser.uid,items:[],members:[]}).then((function(){t.newEntryName="",t.$router.push({path:"/splitter/".concat(t.newEntryId)})})).catch((function(t){console.error("Error writing document: ",t)}))})).catch((function(t){console.error("Error adding document: ",t)}))},storeItem:function(){var t=this;if(this.editItemParentMode){var e={name:this.newItemName};this.updateSubCollectionData({collection:"userData",docId:this.loggedInUser.uid,subcollection:"itemGroups",subcollectionDocId:this.activeItemParent.id,requestData:e,callback:function(){t.fetchItems((function(){t.editItemParent(t.activeItemParent,!1)}))}})}else{var a=o["a"].firestore.FieldValue.serverTimestamp();ma.collection("userData").doc(this.loggedInUser.uid).collection("itemGroups").add({name:this.newItemName,createdOn:a,children:[]}).then((function(){t.newItemName="",t.showEditInputItem=!1,t.fetchItems()})).catch((function(t){console.error("Error adding document: ",t)}))}},storeMember:function(){var t=this;if(this.editMemberParentMode){var e={name:this.newMemberName};this.updateSubCollectionData({collection:"userData",docId:this.loggedInUser.uid,subcollection:"memberGroups",subcollectionDocId:this.activeMemberParent.id,requestData:e,callback:function(){t.fetchMembers((function(){t.setActiveMemberParent(t.activeMemberParent)}))}})}else{var a=o["a"].firestore.FieldValue.serverTimestamp();ma.collection("userData").doc(this.loggedInUser.uid).collection("memberGroups").add({name:this.newMemberName,createdOn:a,children:[]}).then((function(){t.newMemberName="",t.showEditInputMember=!1,t.fetchMembers()})).catch((function(t){console.error("Error adding document: ",t)}))}},onClickCancelAddEntry:function(){this.newEntryName="",this.showEditInputEntry=!1},onClickCancelAddItem:function(){this.newItemName="",this.showEditInputItem=!1},onClickCancelAddMember:function(){this.newMemberName="",this.showEditInputMember=!1},onToggleEditInputEntry:function(t){var e=this;this.showEditInputEntry=!t,this.showEditInputEntry&&this.$nextTick((function(){e.$refs.entryName.focus()}))},onToggleEditInputItem:function(t){var e=this;this.showEditInputItem=!t,this.showEditInputItem&&this.$nextTick((function(){e.$refs.itemName.focus()}))},onToggleEditInputMember:function(t){var e=this;this.showEditInputMember=!t,this.showEditInputMember&&this.$nextTick((function(){e.$refs.memberName.focus()}))},editItemParent:function(t,e){e="undefined"===typeof e||e,this.activeItemParent=t,this.newItemName=e?t.name:"",this.editItemParentMode=e,this.onToggleEditInputItem(!e)},setActiveItemParent:function(t){var e={},a=this.itemList;t.children?this.activeItemParent=a.find((function(e){return e.id===t.id})):(e=a.find((function(e){return e.children.some((function(e){return e.id===t.id}))})),e&&(this.activeItemParent=e))},setActiveMemberParent:function(t){var e={},a=this.memberList;t.children?this.activeMemberParent=a.find((function(e){return e.id===t.id})):(e=a.find((function(e){return e.children.some((function(e){return e.id===t.id}))})),e&&(this.activeMemberParent=e))},activateItemModal:function(t){var e="undefined"!==typeof t.reset;this.editItemMode=e?!e:"undefined"===typeof t.children,this.activeModalItemObj=e?{}:t,this.itemDialog=!e||!t.reset,t.id&&this.setActiveItemParent(t)},activateMemberModal:function(t){var e="undefined"!==typeof t.reset;this.editMemberMode=e?!e:"undefined"===typeof t.children,this.activeModalMemberObj=e?{}:t,this.memberDialog=!e||!t.reset,t.id&&this.setActiveMemberParent(t)},addItemChildtoEntity:function(t){t.persistWindow||(this.itemDialog=!this.itemDialog);var e=this,a=!1,i={};if(t.editMode){var n=this.activeItemParent.children.find((function(e){return e.id===t.id}));n&&(n.name=t.newItemName,n.itemAmount=parseFloat(t.newItemAmount).toFixed(2)),i={children:this.activeItemParent.children}}else i={children:[{id:this.getUniqueID(),name:t.newItemName,itemAmount:parseFloat(t.newItemAmount).toFixed(2)}].concat(Object(A["a"])(this.activeItemParent.children))};this.updateSubCollectionData({collection:"userData",docId:this.loggedInUser.uid,subcollection:"itemGroups",subcollectionDocId:this.activeItemParent.id,requestData:i,callback:function(){e.fetchItems((function(){e.setActiveItemParent(e.activeItemParent)}))}}),(t.editMode||a)&&this.activateItemModal({reset:!0})},addMemberChildtoEntity:function(t){t.persistWindow||(this.memberDialog=!this.memberDialog);var e=this,a=!1,i={};if(t.editMode){var n=this.activeMemberParent.children.find((function(e){return e.id===t.id}));n&&(n.name=t.newMemberName),i={children:this.activeMemberParent.children}}else i={children:[{id:this.getUniqueID(),name:t.newMemberName}].concat(Object(A["a"])(this.activeMemberParent.children))};this.updateSubCollectionData({collection:"userData",docId:this.loggedInUser.uid,subcollection:"memberGroups",subcollectionDocId:this.activeMemberParent.id,requestData:i,callback:function(){e.fetchMembers((function(){e.setActiveMemberParent(e.activeMemberParent)}))}}),(t.editMode||a)&&this.activateMemberModal({reset:!0})},removeParentEntity:function(t,e){var a=this,i=t,n="item"===e,s=n?"itemGroups":"memberGroups";this.$refs.confirm.open({title:"Delete",message:"Remove ".concat(i.name," and its contents?"),options:{color:"red"}}).then((function(t){if(t){var e=a;a.deleteSubCollectionData({collection:"userData",docId:a.loggedInUser.uid,subcollection:s,subcollectionDocId:i.id,callback:function(){n?e.fetchItems():e.fetchMembers()}})}}))},removeChild:function(t){var e=this;t.id&&this.setActiveItemParent(t),this.$refs.confirm.open({title:"Delete",message:"Remove ".concat(t.name,"?"),options:{color:"red"}}).then((function(a){if(a){var i={children:e.activeItemParent.children.filter((function(e){return e.id!==t.id}))},n=e;e.updateSubCollectionData({collection:"userData",docId:e.loggedInUser.uid,subcollection:"itemGroups",subcollectionDocId:e.activeItemParent.id,requestData:i,callback:function(){n.fetchItems()}})}}))},removeMemberChild:function(t){var e=this;t.id&&this.setActiveMemberParent(t),this.$refs.confirm.open({title:"Delete",message:"Remove ".concat(t.name,"?"),options:{color:"red"}}).then((function(a){if(a){var i={children:e.activeMemberParent.children.filter((function(e){return e.id!==t.id}))},n=e;e.updateSubCollectionData({collection:"userData",docId:e.loggedInUser.uid,subcollection:"memberGroups",subcollectionDocId:e.activeMemberParent.id,requestData:i,callback:function(){n.fetchMembers()}})}}))}}},Ye=We,Xe=(a("8df6"),a("ce87")),Ze=Object(c["a"])(Ye,Te,Ve,!1,null,null,null),ta=Ze.exports;m()(Ze,{VBtn:p["a"],VCard:Y["a"],VChip:Z["a"],VContainer:F["a"],VHover:Xe["a"],VListItemTitle:I["c"],VRow:ot["a"],VTab:Ce["a"],VTabItem:ke["a"],VTabs:De["a"],VTabsItems:Ee["a"],VTabsSlider:Me["a"],VTextField:R["a"],VTreeview:zt["a"]}),i["a"].use(P["a"]);var ea=[{path:"/",name:"Entries",component:ta,meta:{requiresAuth:!0}},{path:"/splitter/:id",name:"Splitter",component:_e}],aa=new P["a"]({routes:ea}),ia=aa,na=(a("e71f"),a("63d6")),sa=a.n(na),oa=a("ecee"),ra=a("c074"),la=a("ad3d");i["a"].component("font-awesome-icon",la["a"]),i["a"].use(sa.a),oa["c"].add(ra["h"],ra["g"],ra["c"],ra["j"],ra["k"],ra["f"],ra["d"],ra["a"],ra["e"],ra["b"],ra["i"]);var ca="",da={apiKey:"AIzaSyDUE7TUA3GuyJiwkJl1wr5vSSGJlhvG2qM",authDomain:"splitter-33929.firebaseapp.com",projectId:"splitter-33929",storageBucket:"splitter-33929.appspot.com",messagingSenderId:"48364131169",appId:"1:48364131169:web:88a33451a6a59a2643ab20",measurementId:"G-T74C4YWWD6"};e["default"]=o["a"].initializeApp(da);i["a"].config.productionTip=!1,o["a"].auth().onAuthStateChanged((function(){ca||(ca=new i["a"]({vuetify:M,router:ia,render:function(t){return t(D)}}).$mount("#app"))}));var ma=o["a"].firestore()},"85ec":function(t,e,a){},"8df6":function(t,e,a){"use strict";a("3b36")},a045:function(t,e,a){"use strict";a("0222")}});
//# sourceMappingURL=app.0df4148e.js.map